@using Inventory.Models
@model SaleModels.SaleModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<head>
    <link rel="stylesheet" type="text/css" href="~/assets/css/style.css">
    <link href="~/Content/Site.css" rel="stylesheet" />
    <script src="~/assets/js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript">
        document.getElementById('menuSale').className = 'active';
    </script>
</head>

<style type="text/css">
    .selected {
        background-color: indianred;
    }

    .modal {
        overflow-y: auto;
    }
</style>

<script type="text/javascript">

    var actionValue, sortId, isBankPayment = false, netAmount, editPaymentPercent = 0, payTranId = 0;

    $(function () {

        var now = new Date();
        var day = ("0" + now.getDate()).slice(-2);
        var month = ("0" + (now.getMonth() + 1)).slice(-2);
        var today = now.getFullYear() + "-" + (month) + "-" + (day);
        $('#datePicker').val(today);
        $('#deliveryDate').val(today);

        var locationId = '@ViewBag.DefaultLocationID';
        if (locationId.length != 0 && locationId != 0) $("#LocationID").val(locationId);

        $("#SearchCode").keydown(function (e) {
            if (e.which == 13) {
                var searchCode = $("#SearchCode").val();
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("SearchByCodeAction", "Sale")',
                    data: { "searchCode": searchCode },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        if (response.SearchOk == 1) {
                            fillSelectedProduct(response);
                        } else if (response.SearchOk == 0) {
                            $("#lblSearchKeyword").text('Keyword: ' + searchCode);
                            $('#rdoFirstKeyword').prop('checked', false);
                            $('#rdoLastKeyword').prop('checked', false);
                            createTableSearchProduct(response);
                            $('#modalProduct').modal('show');
                        }
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            }
        });

        $('#rdoFirstKeyword').change(function () {
            if ($("#rdoFirstKeyword").prop("checked")) {
                $('#rdoLastKeyword').prop('checked', false);
                var searchCode = $("#SearchCode").val();
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("SearchByFirstKeywordAction", "Sale")',
                    data: { "searchCode": searchCode },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        createTableSearchProduct(response);
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            }
        });

        $('#rdoLastKeyword').change(function () {
            if ($("#rdoLastKeyword").prop("checked")) {
                $('#rdoFirstKeyword').prop('checked', false);
                var searchCode = $("#SearchCode").val();
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("SearchByLastKeywordAction", "Sale")',
                    data: { "searchCode": searchCode },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        createTableSearchProduct(response);
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            }
        });

        $("#tblSearchProduct").on("click", "tbody tr", function (event) {
            $(this).find("td:first").each(function () {
                var productId = $(this).text();
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("SearchProductClickAction", "Sale")',
                    data: { "productId": productId },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        fillSelectedProduct(response);
                        $('#modalProduct').modal('hide');
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            });
        });

        function createTableSearchProduct(response) {
            $("#tblSearchProduct").find("tbody").empty();
            $.each(response.LstProduct, function (i, item) {
                var rows = "<tr class='table-item' style='width:100%;cursor:pointer;height:30px;'>"
                    + "<td style='font-size:0px;color:transparent'>" + item.ProductID + "</td>"
                    + "<td>" + item.ProductName + "</td>"
                    + "<td style='text-align:right'>" + item.SalePrice + "</td>"
                    + "</tr>";
                $('#tblSearchProduct tbody').append(rows);
            });
        }

        function fillSelectedProduct(response) {
            $("#hidProductID").val(response.ProductID);
            $("#Code").val(response.Code);
            $("#ProductName").val(response.ProductName);
            $("#Quantity").val('1');
            $("#SalePrice").val(response.SalePrice);
            if (response.DisPercent == null) $("#DisPercent").val('0');
            else $("#DisPercent").val(response.DisPercent);
            if (response.IsUnit) {
                showLoadingIcon();
                $.ajax({
                    url: '@Url.Action("GetUnitByProductId", "Sale")',
                    data: { "productId": response.ProductID },
                    dataType: "json",
                    type: "GET",
                    contentType: "application/json; charset=utf-8",
                    success: function (response) {
                        hideLoadingIcon();
                        var s;
                        for (var i = 0; i < response.length; i++) {
                            s += '<option value="' + response[i].UnitID + '">' + response[i].Keyword + '</option>';
                        }
                        $('#SalePrice').val(response[0].SalePrice);
                        $('#DisPercent').val(response[0].DisPercent);
                        $("#UnitID").html(s);
                        $("#divPUnit").show();
                        $("#divPVariant").hide();
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            } else if (response.IsVariant) {
                showLoadingIcon();
                $.ajax({
                    url: '@Url.Action("GetVariantByProductId", "Sale")',
                    data: { "productId": response.ProductID },
                    dataType: "json",
                    type: "GET",
                    contentType: "application/json; charset=utf-8",
                    success: function (response) {
                        hideLoadingIcon();
                        var s;
                        for (var i = 0; i < response.length; i++) {
                            s += '<option value="' + response[i].ID + '">' + response[i].Variant + '</option>';
                        }
                        $("#Variant").html(s);
                        $("#divPVariant").show();
                        $("#divPUnit").hide();
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            } else {
                $("#Variant").html("");
                $("#divPVariant").hide();
                $("#UnitID").html("");
                $("#divPUnit").hide();
            }
        }

        $("#DisPercent").focusout(function () {
            var val = $('#DisPercent').val();
            if (val > 100) {
                $('#DisPercent').val("0");
                showToast(0, "Invalid! Allow only up to maximum 100.");             
            }
        });

        $("#tblMainMenus").on("click", "tbody tr", function (event) {
            $(this).find("td:first").each(function () {
                var mainMenuId = $(this).text();
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("MainMenuAction", "Sale")',
                    data: { "mainMenuId": mainMenuId },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        $("#tblSubMenus").find("tbody").empty(); //clear all the content from tbody here.
                        $.each(response, function (i, item) {
                            var rows = "<tr class='btn btn-submenu'>"
                                + "<td style='cursor:pointer;visibility:hidden'>" + item.SubMenuID + "</td>"
                                + "<td style='cursor:pointer'>" + item.SubMenuName + "</td>"
                                + "</tr>";
                            $('#tblSubMenus tbody').append(rows);
                        });
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            });
        });

        $("#tblSubMenus").on("click", "tbody tr", function (event) {
            var subMenuName = $(this).find("td:last").text();
            $(this).find("td:first").each(function () {
                var subMenuId = $(this).text();
                $("#divMenu").hide();
                $("#divProduct").show();
                $('#lblSubMenuName').text(subMenuName);
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("SubMenuAction", "Sale")',
                    data: { "subMenuId": subMenuId, "subMenuName": subMenuName, "isProductPhoto": isProductPhoto },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        var photo;
                        if (isProductPhoto) photo = '@Url.Content("~/assets/img/photo.png")';
                        $("#tblProducts").find("tbody").empty();
                        $.each(response, function (i, item) {
                            if (item.IsPhoto == true) {
                                var rows = "<tr class='btn btn-product'>"
                                    + "<td style='cursor:pointer;font-size:0px;color:transparent'>" + item.ProductID + "</td>"
                                    + "<td style='cursor:pointer'>" + '<img width="100px" height="100px" src=' + photo + ' />' + "</br><label>" + item.ProductName + "</label></td>"
                                    + "</tr>";
                                $('#tblProducts tbody').append(rows);
                            } else {
                                var rows = "<tr class='btn btn-product'>"
                                    + "<td style='cursor:pointer;font-size:0px;color:transparent'>" + item.ProductID + "</td>"
                                    + "<td style='cursor:pointer'>" + item.ProductName + "</td>"
                                    + "</tr>";
                                $('#tblProducts tbody').append(rows);
                            }
                        });                       
                        if (isProductPhoto) loadProductPhoto(subMenuId);
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            });
        });

        function loadProductPhoto(subMenuId) {
            $.ajax({
                type: "GET",
                url: '@Url.Action("LoadProductPhotoAction", "Sale")',
                data: { "subMenuId": subMenuId },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {                   
                    $("#tblProducts").find("tbody").empty();
                    $.each(response, function (i, item) {                       
                        var rows = "<tr class='btn btn-product'>"
                            + "<td style='cursor:pointer;font-size:0px;color:transparent'>" + item.ProductID + "</td>"
                            + "<td style='cursor:pointer'>" + '<img width="100px" height="100px" src="data:image/png;base64,' + item.Base64Photo + '" />' + "</br><label>" + item.ProductName + "</label></td>"
                            + "</tr>";
                        $('#tblProducts tbody').append(rows);                      
                    });
                },
                failure: function (response) {                  
                    alert(response.responseText);
                },
                error: function (response) {                 
                    alert(response.responseText);
                }
            });
        }

        $("#divSubMenuBack").click(function () {
            $("#divMenu").show();
            $("#divProduct").hide();
        });

        $("#tblProducts").on("click", "tbody tr", function (event) {
            $(this).find("td:first").each(function () {
                var productId = $(this).text();
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("ProductAction", "Sale")',
                    data: { "productId": productId },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        $.each(response, function (i, item) {
                            $('#hidProductID').val(item.ProductID);
                            $('#Code').val(item.Code);
                            $('#ProductName').val(item.ProductName);
                            $('#Quantity').val(1);

                            if (item.IsUnit == true) {
                                var s;
                                for (var i = 0; i < item.ProductUnitList.length; i++) {
                                    s += '<option value="' + item.ProductUnitList[i].UnitID + '">' + item.ProductUnitList[i].Keyword + '</option>';
                                }
                                $('#SalePrice').val(item.ProductUnitList[0].SalePrice);
                                $('#DisPercent').val(item.ProductUnitList[0].DisPercent);
                                $("#UnitID").html(s);
                                $("#divPUnit").show();
                            } else {
                                $('#SalePrice').val(item.SalePrice);
                                $('#DisPercent').val(item.DisPercent);
                                $("#UnitID").html("");
                                $("#divPUnit").hide();
                            }

                            if (item.IsVariant == true) {
                                var s;
                                for (var i = 0; i < item.ProductVariantList.length; i++) {
                                    s += '<option value="' + item.ProductVariantList[i].ID + '">' + item.ProductVariantList[i].Variant + '</option>';
                                }
                                $("#Variant").html(s);
                                $("#divPVariant").show();
                            } else {
                                $("#Variant").html("");
                                $("#divPVariant").hide();
                            }

                            $("#btnAdd").show();
                            $("#btnEdit").hide();
                        });
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            });
        });

        $("#btnAdd").click(function () {
            var productId = $("#hidProductID").val();
            if (productId != "") {
                var productName = $("#ProductName").val();
                var salePrice = $("#SalePrice").val();
                var quantity = $("#Quantity").val();
                var disPercent = $("#DisPercent").val();
                var code = $("#Code").val();
                var unitId = $('#UnitID option:selected').val();
                if (unitId == null) {
                    unitId = 0;
                }
                var unitName = $('#UnitID option:selected').text();
                var variantId = $('#Variant option:selected').val();
                if (variantId == null) {
                    variantId = 0;
                }
                var variantName = $('#Variant option:selected').text();

                if (salePrice.length == 0) salePrice = 0;
                if (quantity.length == 0) quantity = 1;
                if (disPercent.length == 0) disPercent = 0;

                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("ProductAddAction", "Sale")',
                    data: { "productId": productId, "productName": productName, "salePrice": salePrice, "quantity": quantity, "disPercent": disPercent, "Code": code, "unitId": unitId, "unitName": unitName, "variantId": variantId, "variantName": variantName, "isMultiBranch": isMultiBranch, "branchId": branchId },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        $("#tblSales").find("tbody").empty(); //clear all the content from tbody here.
                        $.each(response.CurrentSaleList, function (i, item) {
                            var rows = "<tr class='row table-item' style='cursor:pointer'>"
                                + "<td class='col-md-3 col-lg-3 important-text' style='padding-left:25px'>" + item.ProductName + "</td>"
                                + "<td class='col-md-2 col-lg-2'>" + item.UnitVariant + "</td>"
                                + "<td class='col-md-1 col-lg-1' style='text-align:right'>" + item.Quantity + "</td>"
                                + "<td class='col-md-2 col-lg-2' style='text-align:right'>" + item.SalePrice + "</td>"
                                + "<td class='col-md-1 col-lg-1' style='text-align:right'>" + item.DisPercent + "</td>"
                                + "<td class='col-md-2 col-lg-2' style='text-align:right'>" + item.Amount + "</td>"
                                + "<td class='col-md-1 col-lg-1'><button id='btnDelete' onclick='action(3)' style='cursor:pointer;border:none;float:right;background-color:#FFFFFF' title='Delete'><i class='fa fa-times' style='color:#FE5455;font-size:xx-small'></i></button></td>"
                                + "<td style='display:none'>" + item.SortID + "</td>"
                                + "</tr>";
                            $('#tblSales tbody').append(rows);
                        });
                        $('#hidProductID').val("");
                        $('#Code').val("");
                        $('#ProductName').val("");
                        $('#SalePrice').val("");
                        $('#DisPercent').val("");
                        $('#Quantity').val("");
                        $('#UnitID').html("");
                        $('#Variant').html("");
                        $('#SearchCode').val("");
                        $('#lblTotalAmount').text(response.TotalAmount);
                        $('#lblTaxAmount').text(response.TaxAmount);
                        $('#lblChargesAmount').text(response.ChargesAmount);
                        $('#lblNetAmount').text(calcNetAmtByPercent(response.NetAmount, editPaymentPercent));
                        $('#lblCurrentSale').text(response.CurrentSaleCount);
                        $('#lblVoucherDis').text(response.VoucherDis);
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            }
        });

        $("#divRefresh").click(function () {
            $('#SearchCode').val("");
            $('#hidProductID').val("");
            $('#hidSortID').val("");
            $('#Code').val("");
            $('#ProductName').val("");
            $('#SalePrice').val("");
            $('#DisPercent').val("");
            $('#Quantity').val("");
            $('#UnitID').html("");
            $('#Variant').html("");
            $("#btnAdd").show();
            $("#btnEdit").hide();
        });

        $('#PaymentID').change(function () {
            var val1 = $('#PaymentID option:selected').val();
            if (val1 == 1) {
                $('#CreditLimitDay').val('0');
                $('#PaidAmt').val('0');
                $("#CreditLimitDay").attr("disabled", "disabled");
                $("#PaidAmt").attr("disabled", "disabled");
            } else if (val1 == 2) {
                $('#CreditLimitDay').val('0');
                $('#PaidAmt').val('0');
                $("#CreditLimitDay").removeAttr("disabled");
                $("#PaidAmt").removeAttr("disabled");
            }
        });

        $('#UnitID').change(function () {
            var unitId = $('#UnitID option:selected').val();
            var productId = $('#hidProductID').val();
            showLoadingIcon();
            $.ajax({
                type: "GET",
                url: '@Url.Action("ProductUnitSelectAction", "Sale")',
                data: { "productId": productId, "unitId": unitId },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    hideLoadingIcon();
                    $('#SalePrice').val(response.SalePrice);
                    if (response.DisPercent == null) {
                        response.DisPercent = 0;
                    }
                    $('#DisPercent').val(response.DisPercent);
                },
                failure: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                },
                error: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                }
            });
        });

        $("#btnPay").click(function () {
            netAmount = $('#lblNetAmount').text();
            if (netAmount != '0') {
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("PaymentAction", "Sale")',
                    data: { "isBankPayment": isBankPayment },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        if (response.IsPayMethod == true) {
                            isBankPayment = true;
                            $('#divPayMethod').show();
                            $('#PayMethodID').val(1);
                            $('#divOnlinePayment ').hide();
                            $('#txtPaymentPercent').val('0');
                        }
                        $('#NetAmt').val(netAmount);
                        $('#modalPay').modal('show');
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            }
        });

        $('#PayMethodID').change(function () {
            var val = $('#PayMethodID option:selected').val();
            if (val == 1) {
                $('#divOnlinePayment').hide();
            }else if (val == 2) {
                $('#divOnlinePayment').show();
            }
        });

        $("#btnPayDis").click(function () {
            var netAmount = $('#lblNetAmount').text();
            if (netAmount != '0') {
                $('#modalDiscount').modal('show');
            }
        });

        $("#btnPayOnly").click(function () {
            var customerId = $('#CustomerID option:selected').val();
            var customerName = $('#CustomerID option:selected').text();
            var locationId = $('#LocationID option:selected').val();
            var paymentId = $('#PaymentID option:selected').val();
            var currencyId = $('#CurrencyID option:selected').val();
            var payMethodId = $('#PayMethodID option:selected').val();
            var bankPaymentId = $('#BankPaymentID option:selected').val();
            var dateTime = $('#datePicker').val();
            var voucherNumber = $('#Voucher').val();
            var creditLimitDay = $('#CreditLimitDay').val();
            netAmount = $('#NetAmt').val();
            var paymentPercent = $("#txtPaymentPercent").val();
            if (isBankPayment == true) {
                if (payMethodId == 1) bankPaymentId = 0;
            } else {
                payMethodId = 0;
                bankPaymentId = 0;
            }

            if (locationId == null) {
                showToast(0, "Not Exist Location!");          
            } else {
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("PayAction", "Sale")',
                    data: { "customerId": customerId, "locationId": locationId, "paymentId": paymentId, "currencyId": currencyId, "dateTime": dateTime, "creditLimitDay": creditLimitDay, "payMethodId": payMethodId, "bankPaymentId": bankPaymentId, "netAmount": netAmount, "paymentPercent": paymentPercent, "userId": userId, "branchId": branchId, "voucherNumber": voucherNumber },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();                       
                        showToast(1, "Saved Successfully!");
                        $("#tblSales").find("tbody").empty();
                        $("#tblSaleDetail").find("tbody").empty();
                        $('#hidProductID').val("");
                        $('#Code').val("");
                        $('#ProductName').val("");
                        $('#SalePrice').val("");
                        $('#DisPercent').val("");
                        $('#Quantity').val("");
                        $('#lblTotalAmount').text("0");
                        $('#lblTaxAmount').text("0");
                        $('#lblChargesAmount').text("0");
                        $('#lblNetAmount').text("0");
                        $('#lblVoucherDis').text("0");
                        $('#lblAdvancedPay').text("0");
                        $('#PayDisPercent').val("0");
                        $('#PayDisAmount').val("0");
                        $('#PaidAmt').val("0");
                        $('#CreditLimitDay').val("0");
                        $('#lblCurrentSale').text("Sale (0)");
                        payTranId = response.TranID;
                        printBill(customerName, locationId, dateTime);
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            }
        });

        function printBill(customerName,locationId,dateTime) {
            showLoadingIcon();
            $.ajax({
                type: "GET",
                url: '@Url.Action("PreparePrintBillAction", "Sale")',
                data: { "tranId": payTranId, "locationId": locationId, "dateTime": dateTime, "isMultiBranch": isMultiBranch, "branchId": branchId, "userName": userName, "customerName": customerName },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    hideLoadingIcon();
                    var date = new Date(parseInt((response.SaleDateTime.substr(6))));

                    $('#vouLogo').attr('src', 'data:image/png;base64,' + response.VouSettingModel.Base64Photo);
                    $('#vouSlipId').text("Slip: " + response.SlipID);
                    $('#vouDate').text("Date: " + date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear());
                    $('#vouUser').text("Cashier: " + response.UserName);
                    $('#vouCustomer').text("Customer: " + response.CustomerName);

                    $('#modalSaleVoucher').modal('show');
                    if (response.VouSettingModel.HeaderName != null && response.VouSettingModel.HeaderName != "") {
                        $('#vouHeaderName').css('display', 'inline');
                        $('#vouHeaderName').text(response.VouSettingModel.HeaderName);
                    } else {
                        $('#vouHeaderName').css('display', 'none');
                    }
                    if (response.VouSettingModel.HeaderDesp != null && response.VouSettingModel.HeaderDesp != "") {
                        $('#vouHeaderDesp').css('display', 'inline');
                        $('#vouHeaderDesp').text(response.VouSettingModel.HeaderDesp);
                    } else {
                        $('#vouHeaderDesp').css('display', 'none');
                    }
                    if (response.VouSettingModel.HeaderPhone != null && response.VouSettingModel.HeaderPhone != "") {
                        $('#vouHeaderPhone').css('display', 'inline');
                        $('#vouHeaderPhone').text(response.VouSettingModel.HeaderPhone);
                    } else {
                        $('#vouHeaderPhone').css('display', 'none');
                    }
                    if (response.VouSettingModel.HeaderAddress != null && response.VouSettingModel.HeaderAddress != "") {
                        $('#vouHeaderAddress').css('display', 'inline');
                        $('#vouHeaderAddress').text(response.VouSettingModel.HeaderAddress);
                    } else {
                        $('#vouHeaderAddress').css('display', 'none');
                    }
                    if (response.VouSettingModel.OtherHeader1 != null && response.VouSettingModel.OtherHeader1 != "") {
                        $('#vouOtherHeader1').css('display', 'inline');
                        $('#vouOtherHeader1').text(response.VouSettingModel.OtherHeader1);
                    } else {
                        $('#vouOtherHeader1').css('display', 'none');
                    }
                    if (response.VouSettingModel.OtherHeader2 != null && response.VouSettingModel.OtherHeader2 != "") {
                        $('#vouOtherHeader2').css('display', 'inline');
                        $('#vouOtherHeader2').text(response.VouSettingModel.OtherHeader2);
                    } else {
                        $('#vouOtherHeader2').css('display', 'none');
                    }
                    if (response.VouSettingModel.FooterMessage1 != null && response.VouSettingModel.FooterMessage1 != "") {
                        $('#lblFooterMessage1').css('display', 'inline');
                        $('#lblFooterMessage1').text(response.VouSettingModel.FooterMessage1);
                    } else {
                        $('#lblFooterMessage1').css('display', 'none');
                    }
                    if (response.VouSettingModel.FooterMessage2 != null && response.VouSettingModel.FooterMessage2 != "") {
                        $('#lblFooterMessage2').css('display', 'inline');
                        $('#lblFooterMessage2').text(response.VouSettingModel.FooterMessage2);
                    } else {
                        $('#lblFooterMessage2').css('display', 'none');
                    }
                    if (response.VouSettingModel.FooterMessage3 != null && response.VouSettingModel.FooterMessage3 != "") {
                        $('#lblFooterMessage3').css('display', 'inline');
                        $('#lblFooterMessage3').text(response.VouSettingModel.FooterMessage3);
                    } else {
                        $('#lblFooterMessage3').css('display', 'none');
                    }

                    $.each(response.SaleDetail.LstTran, function (i, item) {
                        var rows = "<tr class='row voucher-table-item'>"
                            + "<td class='col-md-3 col-lg-3'>" + item.ProductName + "</td>"
                            + "<td class='col-md-2 col-lg-2'>" + item.UnitVariant + "</td>"
                            + "<td class='col-md-1 col-lg-1'><label style='float:right'>" + item.Quantity + "</label></td>"
                            + "<td class='col-md-2 col-lg-2'><label style='float:right'>" + item.SalePrice + "</label></td>"
                            + "<td class='col-md-2 col-lg-2'><label style='float:right'>" + item.DiscountAmt + "</label></td>"
                            + "<td class='col-md-2 col-lg-2'><label style='float:right'>" + item.Amount + "</label></td>"
                            + "</tr>";
                        $('#tblSaleDetail tbody').append(rows);
                    });

                    $('#lblDate').text(response.SaleDetail.SaleListModel.Date);
                    $('#lblVoucherNo').text(response.SaleDetail.SaleListModel.Voucher);
                    $('#lblCustomer').text(response.SaleDetail.SaleListModel.CustomerName);
                    $('#lblUser').text(response.SaleDetail.SaleListModel.UserName);
                    $('#lblVouDis').text(response.SaleDetail.SaleListModel.VoucherDis);
                    $('#lblFoc').text(response.SaleDetail.SaleListModel.FOCAmt);
                    $('#lblAdvPay').text(response.SaleDetail.SaleListModel.AdvancedPayAmt);
                    $('#lblTotalAmt').text(response.SaleDetail.SaleListModel.TotalAmt);
                    $('#lblTax').text(response.SaleDetail.SaleListModel.TaxAmt);
                    $('#lblCharges').text(response.SaleDetail.SaleListModel.ChargesAmt);
                    $('#lblNetAmt').text(response.SaleDetail.SaleListModel.NetAmt);
                    if (response.SaleDetail.SaleListModel.PaymentPercent != null && response.SaleDetail.SaleListModel.PaymentPercent != 0) {
                        $("#lblNetAmtLabel").text('Net Amount (Include ' + response.SaleDetail.SaleListModel.PaymentPercent + '%):');
                    } else {
                        $("#lblNetAmtLabel").text('Net Amount:');
                    }

                    $('#Voucher').val(response.VoucherNumber);
                },
                failure: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                },
                error: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                }
            });
        }

        $("#txtPaymentPercent").focusout(function () {
            var val = $('#txtPaymentPercent').val();
            if (val > 100) {
                $('#txtPaymentPercent').val("0");
                showToast(0, "Over Percent Range");             
            }
        });

        $("#btnCalcPercent").click(function () {
            var paymentPercent = $("#txtPaymentPercent").val();
            $("#NetAmt").val(calcNetAmtByPercent(netAmount, paymentPercent));
        });

        function calcNetAmtByPercent(netAmount, percent) {
            if (percent.length != 0 || percent != 0) {
                var percentAmt = (netAmount * percent) / 100;
                netAmount = parseInt(netAmount) + parseInt(percentAmt);
            }
            return netAmount;
        }

        $("#btnDisOk").click(function () {
            var disPercent = $("#PayDisPercent").val();
            var disAmount = $("#PayDisAmount").val();
            if (disPercent.length == 0) disPercent=0;
            if (disAmount.length == 0) disAmount = 0;
            showLoadingIcon();
            $.ajax({
                type: "GET",
                url: '@Url.Action("VoucherDisAction", "Sale")',
                data: { "disPercent": disPercent, "disAmount": disAmount },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    hideLoadingIcon();
                    if (response.DisRangeOk == true) {
                        $('#lblVoucherDis').text(response.VoucherDis);
                        $('#lblNetAmount').text(calcNetAmtByPercent(response.NetAmount, editPaymentPercent));
                        $('#modalDiscount').modal('hide');
                    } else {
                        showToast(0, "Over Percent Range");                   
                    }
                },
                failure: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                },
                error: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                }
            });
        });

        $("#btnAllProductDelete").click(function () {
            showLoadingIcon();
            $.ajax({
                type: "GET",
                url: '@Url.Action("AllProductDeleteAction", "Sale")',
                data: { },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    hideLoadingIcon();
                    $("#tblSales").find("tbody").empty();
                    $('#lblTotalAmount').text("0");
                    $('#lblTaxAmount').text("0");
                    $('#lblChargesAmount').text("0");
                    $('#lblNetAmount').text("0");
                    $('#lblVoucherDis').text("0");
                    $('#lblAdvancedPay').text("0");
                    $('#lblCurrentSale').text("Sale (0)");
                    $("#btnAdd").show();
                    $("#btnEdit").hide();
                },
                failure: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                },
                error: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                }
            });
        });

        $("#PaidAmt").change(function () {
            var paidAmt = $("#PaidAmt").val();
            $("#lblAdvancedPay").text(paidAmt);
            showLoadingIcon();
            $.ajax({
                type: "GET",
                url: '@Url.Action("AdvancedPayAction", "Sale")',
                data: { "paidAmt": paidAmt },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    hideLoadingIcon();
                    $('#lblNetAmount').text(calcNetAmtByPercent(response.NetAmount, editPaymentPercent));
                },
                failure: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                },
                error: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                }
            });
        });

        $("#Paid").change(function () {
            var net = $("#NetAmt").val();
            var paid = $("#Paid").val();
            var change = paid - net;
            $("#ChangeAmt").val(change);
        });

        $("#btnPrint").click(function () {
            $("#modalSaleVoucher").printThis();
            $('#modalSaleVoucher').modal('hide');
        });

        $("#btnDeliveryOk").click(function () {
            var date = $("#deliveryDate").val();
            var recipient = $("#DeliveryRecipient").val();
            var phone = $("#DeliveryPhone").val();
            var address = $("#DeliveryAddress").val();
            if (date != "" && recipient != "" && phone != "" && address != "") {
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("DeliveryAction", "Sale")',
                    data: { "dateTime": date, "recipient": recipient, "phone": phone, "address": address },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        $('#modalDelivery').modal('hide');
                        showToast(1, "Added to Delivery");                   
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            } else {
                showToast(0, "Please fill all delivery information!");            
            }
        });

        $("#tblSales").on("click", "tbody tr", function (event) {
            sortId = $(this).find("td:last").text();
            if (actionValue == 3) {
                actionValue = 0;
                $('#modalConfirm').modal('show');
            } else {
                showLoadingIcon();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("SaleEditAction", "Sale")',
                    data: { "sortId": sortId },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        hideLoadingIcon();
                        $('#hidSortID').val(sortId);
                        $('#hidProductID').val(response.ProductID);
                        $('#ProductName').val(response.Name);
                        $('#Code').val(response.Code);
                        $('#Quantity').val(response.Quantity);
                        $('#SalePrice').val(response.SalePrice);
                        $('#DisPercent').val(response.DisPercent);
                        if (response.ProductUnitList.length != 0) {
                            var s;
                            for (var i = 0; i < response.ProductUnitList.length; i++) {
                                s += '<option value="' + response.ProductUnitList[i].UnitID + '">' + response.ProductUnitList[i].Keyword + '</option>';
                            }
                            $("#UnitID").html(s);
                            $("#divPUnit").show();
                            $("#UnitID").val(response.SelectedUnitID);
                        } else {
                            $("#UnitID").html("");
                            $("#divPUnit").hide();
                        }
                        if (response.ProductVariantList.length != 0) {
                            var s;
                            for (var i = 0; i < response.ProductVariantList.length; i++) {
                                s += '<option value="' + response.ProductVariantList[i].ID + '">' + response.ProductVariantList[i].Variant + '</option>';
                            }
                            $("#Variant").html(s);
                            $("#divPVariant").show();
                            $("#Variant").val(response.SelectedVariantID);
                        } else {
                            $("#Variant").html("");
                            $("#divPVariant").hide();
                        }

                        $("#btnAdd").hide();
                        $("#btnEdit").show();
                    },
                    failure: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    },
                    error: function (response) {
                        hideLoadingIcon();
                        alert(response.responseText);
                    }
                });
            }
        });

        $("#btnDelOk").click(function () {
            showLoadingIcon();
            $.ajax({
                type: "GET",
                url: '@Url.Action("ProductDeleteAction", "Sale")',
                data: { "sortId": sortId, "isMultiBranch": isMultiBranch, "branchId": branchId },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    hideLoadingIcon();
                    $("#tblSales").find("tbody").empty(); //clear all the content from tbody here.
                    $.each(response.CurrentSaleList, function (i, item) {
                        var rows = "<tr class='row table-item' style='cursor:pointer'>"
                            + "<td class='col-md-3 col-lg-3 important-text' style='padding-left:25px'>" + item.ProductName + "</td>"
                            + "<td class='col-md-2 col-lg-2'>" + item.UnitVariant + "</td>"
                            + "<td class='col-md-1 col-lg-1' style='text-align:right'>" + item.Quantity + "</td>"
                            + "<td class='col-md-2 col-lg-2' style='text-align:right'>" + item.SalePrice + "</td>"
                            + "<td class='col-md-1 col-lg-1' style='text-align:right'>" + item.DisPercent + "</td>"
                            + "<td class='col-md-2 col-lg-2' style='text-align:right'>" + item.Amount + "</td>"
                            + "<td class='col-md-1 col-lg-1'><button id='btnDelete' onclick='action(3)' style='cursor:pointer;border:none;float:right;background-color:#FFFFFF' title='Delete'><i class='fa fa-times' style='color:#FE5455;font-size:xx-small'></i></button></td>"
                            + "<td style='display:none'>" + item.SortID + "</td>"
                            + "</tr>";
                        $('#tblSales tbody').append(rows);
                    });
                    $('#lblTotalAmount').text(response.TotalAmount);
                    $('#lblTaxAmount').text(response.TaxAmount);
                    $('#lblChargesAmount').text(response.ChargesAmount);
                    $('#lblNetAmount').text(response.NetAmount);
                    $('#lblCurrentSale').text(response.CurrentSaleCount);
                    $('#lblVoucherDis').text(response.VoucherDis);
                },
                failure: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                },
                error: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                }
            });
        });

        $("#btnEdit").click(function () {
            sortId = $("#hidSortID").val();
            var productId = $("#hidProductID").val();
            var productName = $("#ProductName").val();
            var salePrice = $("#SalePrice").val();
            var quantity = $("#Quantity").val();
            var disPercent = $("#DisPercent").val();
            var code = $("#Code").val();
            var unitId = $('#UnitID option:selected').val();
            if (unitId == null) {
                unitId = 0;
            }
            var unitName = $('#UnitID option:selected').text();
            var variantId = $('#Variant option:selected').val();
            if (variantId == null) {
                variantId = 0;
            }
            var variantName = $('#Variant option:selected').text();
            showLoadingIcon();
            $.ajax({
                type: "GET",
                url: '@Url.Action("ProductEditAction", "Sale")',
                data: { "productId": productId, "productName": productName, "salePrice": salePrice, "quantity": quantity, "disPercent": disPercent, "Code": code, "unitId": unitId, "unitName": unitName, "variantId": variantId, "variantName": variantName, "sortId": sortId, "isMultiBranch": isMultiBranch, "branchId": branchId },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    hideLoadingIcon();
                    $("#tblSales").find("tbody").empty(); //clear all the content from tbody here.
                    $.each(response.CurrentSaleList, function (i, item) {
                        var rows = "<tr class='row table-item' style='cursor:pointer'>"
                            + "<td class='col-md-3 col-lg-3 important-text' style='padding-left:25px'>" + item.ProductName + "</td>"
                            + "<td class='col-md-2 col-lg-2'>" + item.UnitVariant + "</td>"
                            + "<td class='col-md-1 col-lg-1' style='text-align:right'>" + item.Quantity + "</td>"
                            + "<td class='col-md-2 col-lg-2' style='text-align:right'>" + item.SalePrice + "</td>"
                            + "<td class='col-md-1 col-lg-1' style='text-align:right'>" + item.DisPercent + "</td>"
                            + "<td class='col-md-2 col-lg-2' style='text-align:right'>" + item.Amount + "</td>"
                            + "<td class='col-md-1 col-lg-1'><button id='btnDelete' onclick='action(3)' style='cursor:pointer;border:none;float:right;background-color:#FFFFFF' title='Delete'><i class='fa fa-times' style='color:#FE5455;font-size:xx-small'></i></button></td>"
                            + "<td style='display:none'>" + item.SortID + "</td>"
                            + "</tr>";
                        $('#tblSales tbody').append(rows);
                    });
                    $('#hidProductID').val("");
                    $('#Code').val("");
                    $('#ProductName').val("");
                    $('#SalePrice').val("");
                    $('#DisPercent').val("");
                    $('#Quantity').val("");
                    $('#UnitID').html("");
                    $('#Variant').html("");
                    $('#lblTotalAmount').text(response.TotalAmount);
                    $('#lblTaxAmount').text(response.TaxAmount);
                    $('#lblChargesAmount').text(response.ChargesAmount);
                    $('#lblNetAmount').text(calcNetAmtByPercent(response.NetAmount,editPaymentPercent));
                    $('#lblCurrentSale').text(response.CurrentSaleCount);
                    $('#lblVoucherDis').text(response.VoucherDis);
                    $("#btnAdd").show();
                    $("#btnEdit").hide();
                },
                failure: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                },
                error: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                }
            });
        });

        $("#btnPayEdit").click(function () {
            var customerId = $('#CustomerID option:selected').val();
            var locationId = $('#LocationID option:selected').val();
            var paymentId = $('#PaymentID option:selected').val();
            var currencyId = $('#CurrencyID option:selected').val();
            var dateTime = $('#datePicker').val();
            var creditLimitDay = $('#CreditLimitDay').val();
            var netAmount = $('#lblNetAmount').text();
            showLoadingIcon();
            $.ajax({
                type: "GET",
                url: '@Url.Action("PayEditAction", "Sale")',
                data: { "customerId": customerId, "locationId": locationId, "paymentId": paymentId, "currencyId": currencyId, "dateTime": dateTime, "creditLimitDay": creditLimitDay, "netAmount": netAmount, "userId": userId },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    hideLoadingIcon();
                    showToast(1, "Edited Successfully!");              
                    window.location.href = '/Sale/SaleList/';
                },
                failure: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                },
                error: function (response) {
                    hideLoadingIcon();
                    alert(response.responseText);
                }
            });
        });

        $(".number").keypress(function (e) {
            var txt = String.fromCharCode(e.which);
            if (!txt.match(/^[0-9]*$/)) {
                return false;
            }
        });

        var isEdit = '@Session["IsEdit"]';
        if (isEdit == 1) {
            $("#btnPay").css('display', 'none');
            $("#btnPayEdit").show();

            $("#Voucher").val('@Session["EditVoucher"]');
            $("#CustomerID").val('@Session["EditCustomer"]');
            $("#LocationID").val('@Session["EditLocation"]');
            $("#PaymentID").val('@Session["EditPayment"]');

            var editCurrency = '@Session["EditCurrency"]';
            if (editCurrency != null && editCurrency != 0) {
                $("#CurrencyID").val('@Session["EditCurrency"]');
            }

            $("#lblTotalAmount").text('@Session["EditTotalAmt"]');
            $("#lblVoucherDis").text('@Session["EditVoucherDis"]');
            $("#lblAdvancedPay").text('@Session["EditAdvancedPayAmt"]');
            $("#lblTaxAmount").text('@Session["EditTaxAmt"]');
            $("#lblChargesAmount").text('@Session["EditChargesAmt"]');
            $("#lblNetAmount").text('@Session["EditNetAmt"]');

            editPaymentPercent = '@Session["EditPaymentPercent"]';
            if (editPaymentPercent != null && editPaymentPercent != 0) {
                $("#lblNetAmountLabel").text('Net Amount (Include ' + editPaymentPercent + '%)');
            }

            $("#PayDisPercent").val('@Session["EditVouDisPercent"]');
            $("#PayDisAmount").val('@Session["EditVouDisAmount"]');

            var paymentId = $("#PaymentID").val();
            if (paymentId == 1) {
                $('#CreditLimitDay').val('0');
                $('#PaidAmt').val('0');
                $("#CreditLimitDay").attr("disabled", "disabled");
                $("#PaidAmt").attr("disabled", "disabled");
            } else if (paymentId == 2) {
                $('#CreditLimitDay').val('@Session["EditCreditLimitDay"]');
                $('#PaidAmt').val('@Session["EditAdvancedPayAmt"]');
                $("#CreditLimitDay").removeAttr("disabled");
                $("#PaidAmt").removeAttr("disabled");
            }
        }

    });

    function action(val) {
        actionValue = val;
    }

</script>

@*<div class="toast" data-autohide="false" style="position:absolute;right:0;">
    <div class="toast-header" style="background-color:lightgreen">      
        <i class="fa fa-check-square"></i>
        <strong class="mr-auto">&nbsp;&nbsp;Success</strong>       
        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="toast-body">
        Saved Sale Successfully!
    </div>
</div>*@

<div class="container-fluid content-bg">

    <div class="row border-gray" style="padding:10px;background-color:#ffffff">
        <div class="col-md-2 col-lg-2">
            <input id="datePicker" type="date" class="form-control control-input" />
        </div>
        <div class="col-md-3 col-lg-3 border-left-gray">
            @Html.TextBoxFor(m => m.Voucher, new { @class = "form-control control-input", Value = ViewBag.VoucherNumber, @disabled = "disabled" })
        </div>
        <div class="col-md-2 col-lg-2 border-left-gray">
            @Html.DropDownListFor(m => m.CustomerID, Model.Customers, new { @class = "form-control control-input" })
        </div>
        <div class="col-md-2 col-lg-2 border-left-gray">
            @Html.DropDownListFor(m => m.LocationID, Model.Locations, new { @class = "form-control control-input" })
        </div>
        <div class="col-md-2 col-lg-2 border-left-gray">
            @Html.DropDownListFor(m => m.PaymentID, Model.Payments, new { @class = "form-control control-input" })
        </div>
        @if (ViewBag.IsMultiCurrency == true)
        {
            <div class="col-md-1 col-lg-1 border-left-gray">
                @Html.DropDownListFor(m => m.CurrencyID, Model.Currencies, new { @class = "form-control control-input" })
            </div>
        }
    </div>

    <div class="row" style="margin-top:10px">

        <div class="col-md-4 col-lg-4" style="background-color:#ffffff;border:1px solid #eeebe7;border-radius:3px">

            <div class="row" style="padding:5px;background-color:#39c164">
                <label class="control-label" style="color:#fff;margin-top:5px"><i class="fa fa-product-hunt"></i>&nbsp;&nbsp;Product</label>
            </div>

            <div id="divMenu" class="row">
                <div class="col-md-6 col-lg-6" style="height:100vh;background-color:#fefeff;border-right:1px solid #f1f1f1">
                    <table id="tblMainMenus" style="width:100%;margin-top:5px">
                        <tbody style="text-align:center">
                            @for (int i = 0; i < Model.MainMenus.Count(); i++)
                            {
                                <tr class="btn btn-block btn-mainmenu">
                                    <td style="font-size:0px;color:transparent">@Model.MainMenus[i].Value</td>
                                    <td style="text-align:center">@Model.MainMenus[i].Text</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <div class="col-md-6 col-lg-6">
                    <table id="tblSubMenus">
                        <tbody style="text-align:center"></tbody>
                    </table>
                </div>
            </div>

            <div id="divProduct" class="row" style="display:none;overflow-y:auto;height:500px;">
                <div class="col-md-12 col-lg-12">
                    <div class="row" style="align-items:center;padding:4px;background-color:#f5f5f5">
                        <div id="divSubMenuBack" class="col-md-1 col-lg-1 border-right-gray" style="cursor:pointer;padding:1px;text-align:center">
                            <i class="fa fa-arrow-circle-left" style="color:#3E445C"></i>
                        </div>
                        <div class="col-md-10 col-lg-10" style="text-align:center">
                            <label id="lblSubMenuName" class="general-text-title" style="margin-bottom:0"></label>
                        </div>
                    </div>
                    <div class="row" style="padding:10px;border-top:1px solid #D2D6DE;border-radius:2px;height:200vh">
                        <table id="tblProducts">
                            <tbody style="text-align:center"></tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <div class="col-md-8 col-lg-8">
            <div style="padding-left:1px;padding-right:1px;background-color:#ffffff;border:1px solid #eeebe7;border-radius:3px">

                <div class="row" style="padding-top:8px;padding-bottom:5px;padding-left:10px;padding-right:10px">
                    <div class="col-md-2 col-lg-2">
                        <label id="lblCurrentSale" class="general-text-title" style="margin-top:5px">Sale (0)</label>
                    </div>
                    <div class="col-md-9 col-lg-9">
                        @Html.TextBoxFor(m => m.SearchCode, null, new { placeholder = "Search Product by Code/Name and Barcode", @class = "custom-textbox" })
                        <input type="hidden" id="hfCustomer" name="CustomerId" />
                    </div>
                    <div id="divRefresh" class="col-md-1 col-lg-1" style="display:flex;justify-content:center">
                        <button class="btn btn-light" title="Refresh"><i class="fa fa-refresh refresh-icon"></i></button>
                    </div>
                </div>

                <div class="row" style="border-top:1px solid #dee2e6;padding:5px 10px;margin:0">

                    <div class="col-md-12 col-lg-12">
                        <div class="row">
                            <div class="col-md-3 col-lg-3">
                                @Html.Hidden("hidProductID")
                                @Html.Hidden("hidSortID")
                                @Html.TextBoxFor(m => m.Code, new { @class = "custom-textbox", @placeholder = "Code" })
                            </div>
                            <div class="col-md-4 col-lg-4">
                                @Html.TextBoxFor(m => m.ProductName, new { @class = "custom-textbox", @placeholder = "Name" })
                            </div>
                            <div id="divPVariant" class="col-md-3 col-lg-3" style="display:none">
                                @Html.DropDownListFor(m => m.Variant, Model.Variants, new { @class = "custom-textbox" })
                            </div>
                            <div id="divPUnit" class="col-md-3 col-lg-3">
                                @Html.DropDownListFor(m => m.UnitID, Model.Units, new { @class = "custom-textbox" })
                            </div>
                        </div>
                        <div class="row" style="margin-top:3px">
                            <div class="col-md-3 col-lg-3">
                                <input id="Quantity" type="number" placeholder="Qty" class="custom-textbox" oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" />
                            </div>
                            <div class="col-md-4 col-lg-4">
                                <input id="SalePrice" type="text" placeholder="Price" class="custom-textbox" oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" />
                            </div>
                            <div class="col-md-3 col-lg-3">
                                <input id="DisPercent" type="number" placeholder="Dis(%)" class="custom-textbox" min="1" max="100" oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" />
                            </div>
                            <div class="col-md-2 col-lg-2" style="align-self:center">
                                <button id="btnAdd" class="btn btn-sm btn-second">ADD</button>
                                <button id="btnEdit" class="btn btn-sm btn-second" style="display:none">Edit</button>
                            </div>
                        </div>
                    </div>

                </div>

                <div id="divCurrentSale" class="row" style="padding:5px;border-top:1px solid #f0f1f3;border-radius:2px;height:300px;overflow-y:auto;margin:0">

                    <table id="tblSales" class="col-md-12 col-lg-12">
                        <thead>
                            <tr class="row table-header">
                                <th class="col-md-3 col-lg-3" style="padding-left:25px">Product</th>
                                <th class="col-md-2 col-lg-2">Unit/Variant</th>
                                <th class="col-md-1 col-lg-1" style="text-align:right">Qty</th>
                                <th class="col-md-2 col-lg-2" style="text-align:right">Price</th>
                                <th class="col-md-1 col-lg-1" style="text-align:right">Dis</th>
                                <th class="col-md-2 col-lg-2" style="text-align:right">Amount</th>
                                <td class="col-md-1 col-lg-1"><button id="btnAllProductDelete" style="cursor:pointer;border:none;float:right;background-color:#FFFFFF" title="All Delete"><i class="fa fa-trash" style="color:#FE5455;font-size:small"></i></button></td>
                            </tr>
                        </thead>

                        <tbody>

                            @if (Session["IsEdit"].ToString() == "1")
                            {
                                var trans = (List<SaleModels.CurrentSaleModel>)ViewData["EditLstTran"]; // Cast the list

                                foreach (var c in trans)
                                {
                                    <tr class="row table-item" style="cursor:pointer">
                                        <td class="col-md-3 col-lg-3 control-label" style="padding-left:25px">
                                            @c.ProductName
                                        </td>
                                        <td class="col-md-2 col-lg-2 control-label">
                                            @c.UnitVariant
                                        </td>
                                        <td class="col-md-1 col-lg-1 control-label" style="text-align:right">
                                            @c.Quantity
                                        </td>
                                        <td class="col-md-2 col-lg-2 control-label" style="text-align:right">
                                            @c.SalePrice
                                        </td>
                                        <td class="col-md-1 col-lg-1 control-label" style="text-align:right">
                                            @c.DisPercent
                                        </td>
                                        <td class="col-md-2 col-lg-2 control-label" style="text-align:right">
                                            @c.Amount
                                        </td>
                                        <td class="col-md-1 col-lg-1"><button id="btnDelete" onclick="action('3')" style="cursor:pointer;border:none;float:right;background-color:#FFFFFF" title="Delete"><i class="fa fa-times" style="color:#FE5455;font-size:xx-small"></i></button></td>
                                        <td style="display:none">
                                            @c.SortID
                                        </td>
                                    </tr>
                                }
                            }

                        </tbody>

                    </table>

                </div>

            </div>

            <div>
                <div class="row" style="background-color:#f6f7fb;margin:0">
                    <div class="col-md-3 col-lg-3" style="padding:10px;background-color:#c5cacf">
                        <div style="margin-top:5px">
                            <label class="control-label" style="margin-bottom:3px">Credit Limit Day</label>
                            @Html.TextBoxFor(m => m.CreditLimitDay, "0", new { @class = "form-control control-label number", @disabled = "disabled", @type = "number", @min="0" })
                        </div>
                        <div style="margin-top:5px">
                            <label class="control-label" style="margin-bottom:3px">Advanced Pay</label>
                            @Html.TextBoxFor(m => m.PaidAmt, "0", new { @class = "form-control control-label number", @disabled = "disabled", @type = "text" })
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-6 col-lg-6">
                                <button id="btnPayDis" class="btn btn-sm btn-second btn-block form-control" title="Discount"><i class="fa fa-percent"></i></button>
                            </div>
                            <div class="col-md-6 col-lg-6">
                                <button id="btnDelivery" class="btn btn-sm btn-white-outline-second btn-block form-control" title="Delivery" data-toggle="modal" data-target="#modalDelivery"><i class="fa fa-truck"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-9 col-lg-9" style="padding:10px;background-color:#dee2e6">
                        <div class="row border-bottom-white">
                            <div class="col-md-6 col-lg-6">
                                <label class="total-amount-label">Amount</label>
                            </div>
                            <div class="col-md-6 col-lg-6">
                                <label id="lblTotalAmount" class="total-amount-value">0</label>
                            </div>
                        </div>
                        <div class="row border-bottom-white">
                            <div class="col-md-6 col-lg-6">
                                <label class="amount-group-label">Voucher Discount</label>
                            </div>
                            <div class="col-md-6 col-lg-6">
                                <label id="lblVoucherDis" class="amount-group-value">0</label>
                            </div>
                        </div>
                        <div class="row border-bottom-white">
                            <div class="col-md-6 col-lg-6">
                                <label class="amount-group-label">Advanced Pay</label>
                            </div>
                            <div class="col-md-6 col-lg-6">
                                <label id="lblAdvancedPay" class="amount-group-value">0</label>
                            </div>
                        </div>
                        <div class="row border-bottom-white">
                            <div class="col-md-6 col-lg-6">
                                <label class="amount-group-label">Tax</label>
                            </div>
                            <div class="col-md-6 col-lg-6">
                                <label id="lblTaxAmount" class="amount-group-value">0</label>
                            </div>
                        </div>
                        <div class="row border-bottom-white">
                            <div class="col-md-6 col-lg-6">
                                <label class="amount-group-label">Service Charges</label>
                            </div>
                            <div class="col-md-6 col-lg-6">
                                <label id="lblChargesAmount" class="amount-group-value">0</label>
                            </div>
                        </div>
                        <div class="row border-bottom-white">
                            <div class="col-md-6 col-lg-6">
                                <label id="lblNetAmountLabel" class="net-amount-label">Net Amount</label>
                            </div>
                            <div class="col-md-6 col-lg-6">
                                <label id="lblNetAmount" class="total-amount-value">0</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin:0">
                    <div class="col-md-12 col-lg-12" style="padding:10px;text-align:right">
                        <button id="btnPay" class="btn btn-first width-200" style="height:50px">PAY</button>
                        <button id="btnPayEdit" class="btn btn-first width-200" style="display:none;height:50px">EDIT</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

</div>

<div class="modal fade" id="modalProduct" tabindex="-1" role="dialog" aria-labelledby="adminModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="adminModalLongTitle">Product</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row" style="background-color:#dee2e6;display:flex;align-items:center;padding:5px;">
                    <div class="col-md-6 col-lg-6">
                        <label id="lblSearchKeyword" class="control-label" style="color:#39c164"></label>
                    </div>
                    <div class="col-md-6 col-lg-6">
                        <div style="display:flex;justify-content:right;align-items:center">
                            <input type="radio" id="rdoFirstKeyword" />
                            <span style="font-size:small">&nbsp;Search by First Word</span>
                        </div>
                        <div style="display:flex;justify-content:right;align-items:center">
                            <input type="radio" id="rdoLastKeyword" />
                            <span style="font-size:small">&nbsp;Search by Last Word</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-sm-12">
                        <table id="tblSearchProduct" style="width:100%">
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                @*<button id="btnDisOk" class="btn btn-second">OK</button>*@
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalDiscount" tabindex="-1" role="dialog" aria-labelledby="adminModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="adminModalLongTitle">Voucher Discount</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12 col-sm-12">
                        <div class="form-group">
                            <label class="control-label">Discount Percent (%)</label>
                            @Html.TextBoxFor(m => m.PayDisPercent, new { @class = "form-control", @type = "number", oninput = "this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" })
                        </div>
                        <div class="form-group">
                            <label class="control-label">Discount Amount</label>
                            @Html.TextBoxFor(m => m.PayDisAmount, new { @class = "form-control", @type = "text", oninput = "this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" })
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btnDisOk" class="btn btn-second">OK</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalPay" tabindex="-1" role="dialog" aria-labelledby="adminModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="adminModalLongTitle">Pay & Print Bill</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12 col-sm-12">
                        <div id="divPayMethod" style="display:none">
                            <div class="form-group">
                                <label class="control-label">Payment Method</label>
                                @Html.DropDownListFor(m => m.PayMethodID, Model.PayMethods, new { @class = "form-control" })
                            </div>
                            <div id="divOnlinePayment" style="display:none;padding:10px;border:1px solid #dee2e6;margin-bottom:5px;">
                                <div class="form-group">
                                    <label class="control-label">Choose Online Payment</label>
                                    @Html.DropDownListFor(m => m.BankPaymentID, Model.BankPayments, new { @class = "form-control" })
                                </div>
                                <div class="row">
                                    <div class="col-md-6 col-lg-6">
                                        <input id="txtPaymentPercent" type="number" class="form-control" placeholder="Percent" min="0" max="100" oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" />
                                    </div>
                                    <div class="col-md-6 col-lg-6" style="display:flex;">
                                        <button id="btnCalcPercent" class="btn btn-sm btn-second">+ Percent</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Net Amount</label>
                            @Html.TextBoxFor(m => m.NetAmt, new { @class = "form-control", @type = "number", @disabled = "disabled" })
                        </div>
                        <div class="form-group">
                            <label class="control-label">Paid Amount</label>
                            @Html.TextBoxFor(m => m.Paid, new { @class = "form-control", @type = "number", @autofocus = "autofocus", oninput = "this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" })
                        </div>
                        <div class="form-group">
                            <label class="control-label">Change</label>
                            @Html.TextBoxFor(m => m.ChangeAmt, new { @class = "form-control", @type = "number", oninput = "this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" })
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btnPayOnly" class="btn btn-first" data-dismiss="modal" aria-label="Close" style="width:100px;margin-right:20px">PAY</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalDelivery" tabindex="-1" role="dialog" aria-labelledby="adminModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="adminModalLongTitle">Delivery</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12 col-sm-12">
                        <div class="form-group">
                            <label class="control-label">Delivery Date</label>
                            @if (Session["IsEdit"].ToString() == "1")
                            {
                                <input id="deliveryDate" type="date" value="@Session["DeliDate"]" class="form-control control-label" />
                            }
                            else
                            {
                                <input id="deliveryDate" type="date" class="form-control control-label" />
                            }
                        </div>
                        <div class="form-group">
                            <label class="control-label">Recipient</label>
                            @if (Session["IsEdit"].ToString() == "1")
                            {
                                @Html.TextBoxFor(m => m.DeliveryRecipient, new { @class = "form-control", @Value = Session["DeliRecipient"] })
                            }
                            else
                            {
                                @Html.TextBoxFor(m => m.DeliveryRecipient, new { @class = "form-control" })
                                @Html.ValidationMessageFor(m => m.DeliveryRecipient, null, new { @class = "text-danger" })
                            }
                        </div>
                        <div class="form-group">
                            <label class="control-label">Phone</label>
                            @if (Session["IsEdit"].ToString() == "1")
                            {
                                @Html.TextBoxFor(m => m.DeliveryPhone, new { @class = "form-control", @Value = Session["DeliPhone"] })
                            }
                            else
                            {
                                @Html.TextBoxFor(m => m.DeliveryPhone, new { @class = "form-control" })
                            }
                        </div>
                        <div class="form-group">
                            <label class="control-label">Address</label>
                            @if (Session["IsEdit"].ToString() == "1")
                            {
                                @Html.TextBoxFor(m => m.DeliveryAddress, new { @class = "form-control", @Value = Session["DeliAddress"] })
                            }
                            else
                            {
                                @Html.TextBoxFor(m => m.DeliveryAddress, new { @class = "form-control" })
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btnDeliveryOk" class="btn btn-second">OK</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalSaleVoucher" tabindex="-1" role="dialog" aria-labelledby="adminModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="adminModalLongTitle">Voucher</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="border:1px dashed #e53f34;margin:10px;">
                <div class="row">
                    <div class="col-md-12 col-lg-12" style="text-align:center">
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <img id="vouLogo" src="~/Image/sample.png" style="width:100px;height:100px" />
                            </div>
                        </div>
                        <div class="row"><div class="col-md-12 col-lg-12"><label id="vouHeaderName" class="voucher-header-name"></label></div></div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="vouHeaderDesp" class="voucher-header"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="vouHeaderPhone" class="voucher-header"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="vouHeaderAddress" class="voucher-header"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="vouOtherHeader1" class="voucher-header"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="vouOtherHeader2" class="voucher-header"></label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-6">
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="vouDate" class="voucher-sub-header"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="vouSlipId" class="voucher-sub-header"></label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6">
                        <div class="row">
                            <div class="col-md-12 col-lg-12" style="display:flex;justify-content:right">
                                <label id="vouUser" class="voucher-sub-header"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12" style="display:flex;justify-content:right">
                                <label id="vouCustomer" class="voucher-sub-header"></label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <table id="tblSaleDetail" class="col-md-12 col-lg-12" role="grid">
                            <thead>
                                <tr class="row voucher-table-header">
                                    <th class="col-md-3 col-lg-3">Product</th>
                                    <th class="col-md-2 col-lg-2">Unit/Var</th>
                                    <th class="col-md-1 col-lg-1"><label style="float:right">Qty</label></th>
                                    <th class="col-md-2 col-lg-2"><label style="float:right">Price</label></th>
                                    <th class="col-md-2 col-lg-2"><label style="float:right">Dis</label></th>
                                    <th class="col-md-2 col-lg-2"><label style="float:right">Amount</label></th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="row">
                            <div class="col-lg-6 col-md-6">
                                <label class="voucher-sub-footer">Total Amount:</label>
                            </div>
                            <div class="col-lg-6 col-md-6">
                                <label id="lblTotalAmt" class="voucher-sub-footer" style="float:right"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-md-6">
                                <label class="voucher-sub-footer">Voucher Discount:</label>
                            </div>
                            <div class="col-lg-6 col-md-6">
                                <label id="lblVouDis" class="voucher-sub-footer" style="float:right"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-md-6">
                                <label class="voucher-sub-footer">FOC:</label>
                            </div>
                            <div class="col-lg-6 col-md-6">
                                <label id="lblFoc" class="voucher-sub-footer" style="float:right"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-md-6">
                                <label class="voucher-sub-footer">Advanced Pay:</label>
                            </div>
                            <div class="col-lg-6 col-md-6">
                                <label id="lblAdvPay" class="voucher-sub-footer" style="float:right"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-md-6">
                                <label class="voucher-sub-footer">Tax:</label>
                            </div>
                            <div class="col-lg-6 col-md-6">
                                <label id="lblTax" class="voucher-sub-footer" style="float:right"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-md-6">
                                <label class="voucher-sub-footer">Charges:</label>
                            </div>
                            <div class="col-lg-6 col-md-6">
                                <label id="lblCharges" class="voucher-sub-footer" style="float:right"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-md-6">
                                <label id="lblNetAmtLabel" class="voucher-sub-footer">Net Amount:</label>
                            </div>
                            <div class="col-lg-6 col-md-6">
                                <label id="lblNetAmt" class="voucher-sub-footer" style="float:right"></label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-top:30px">
                    <div class="col-md-12 col-lg-12" style="text-align:center">
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="lblFooterMessage1" class="voucher-sub-footer"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="lblFooterMessage2" class="voucher-sub-footer"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12">
                                <label id="lblFooterMessage3" class="voucher-sub-footer"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btnPrint" class="btn btn-first">Print</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalConfirm" tabindex="-1" role="dialog" aria-labelledby="adminModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="adminModalLongTitle">Confirm</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12 col-lg12">
                        <label class="control-label">Are you sure you want to delete this item?</label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btnDelCancel" class="btn btn-sm btn-dialog-cancel" data-dismiss="modal" aria-label="Close">Cancel</button>
                <button id="btnDelOk" class="btn btn-sm btn-dialog-ok" data-dismiss="modal" aria-label="Close">OK</button>
            </div>
        </div>
    </div>
</div>



